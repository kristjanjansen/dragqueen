<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.1/animate.min.css">
    <style>
        body{
            background-image:url("background.png");
        }
        h1{
            text-align:center;
            font-family:arial;
        }
        .draggable {
            width: 70px;
            height: 70px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            /*/background-color: blue;/*/
            background-image: url("http://img04.deviantart.net/fc2a/i/2015/124/b/5/joint_by_anthracksthepony-d8s7qlc.png");
            background-size:cover;
            background-repeat:no-repeat;
        }

    </style>
</head>
<body>
    <h1 class="player1">Player 1 currently blazing it.</h1>
    <h1 class="player2">Player 2 currently blazing it.</h1>
    <div class="draggable"></div>
    <div class="draggable2"></div>

    <div class="yo">You win, sucker.   </div>
    <div id="dis" class="disgrace"><img src="http://treasure.diylol.com/uploads/post/image/158318/resized_high-expectations-asian-father-meme-generator-graduated-from-princeton-you-re-a-disgrace-to-the-family-c26e92.jpg"/></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/draggabilly/2.1.0/draggabilly.pkgd.js"></script>
    <script src="/socket.io/socket.io.js"></script>

    <script>
        $('.player1').hide()
        $('.player2').hide()
        $('.yo').hide()
        $('.disgrace').hide()

        var socket = io.connect();

        var draggable = $('.draggable').draggabilly();
        var draggie = draggable.data('draggabilly');

        draggable.on('dragMove', function() {

            x = draggie.position.x
            y = draggie.position.y
           // console.log(x, y)
           console.log("Player 1 moving the thing");
           $('.player2').hide()
           $('.player1').show()
        
            if(x >= 168 && x <= 466 && y >= 433 && y <=582) {
          
                $('.yo').show()
       
            }else{
                $('.yo').hide()
            }


            if(x >= 1212 && x <= 1442 && y >= 550 && y <=620) {
          
                $('.disgrace').show()
                $('#dis').addClass('animated shake');
       
            }else{
                $('.disgrace').hide()
            }
            
            socket.emit('move', {x: draggie.position.x, y: draggie.position.y});
            
        });

        socket.on('move', function (data) {

            draggable.css({'left': data.x, 'top': data.y})
            console.log("Player 2 moving the thing");
            $('.player2').show()
            $('.player1').hide()
        });
            function pause(){
                
            }
        
    </script>

</body>
</html>

